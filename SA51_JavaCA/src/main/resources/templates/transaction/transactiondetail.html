<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body})}">

<body>

<div th:if="${success == 'false'}" class="alert alert-danger alert-dismissible fade show" role="alert">
  <strong>Invalid Transaction</strong> Value of transaction exceeds current inventory amount
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div th:if="${success == 'true'}" class="alert alert-success alert-dismissible fade show" role="alert">
  <strong>Success</strong> Transaction successful
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

	<div class="my-4 container-sm">
	
	<div class="row">
		<div class="col-sm-9"> <h3>Transaction Detail for Transaction ID <span th:utext="${transaction.id}"></span></h3></div>
		<div class="col-sm"><a th:href="@{/transactiondetails/new/} + ${transaction.id}" class="btn btn-info">New Transaction Detail</a></div>
	</div>
	<br>
	<div class="row">
	<table class="table table-hover"> 
		<thead class="thead-light">
		<tr> 
			<th>Date</th>
			<th>Quantity Change</th>
			<th>Transaction Type</th>
			<th>View Product Detail</th>
			<th>Edit Transaction Detail</th>
			<th>Delete Transaction Detail</th>
		</tr>
		</thead>
		<tr th:each="td : ${transactiondetail}">
			<td th:utext="${td.date}"></td>
			<td th:utext="${td.quantityChange}"></td>
			<td th:utext="${td.transactionType}"></td>
			<td>
			<a href="#" class="btn btn-light" th:href="@{/product/detail/}+${td.product.id}"
			th:utext="${td.product.name}">Product</a>
			</td>
			<td>
			<a href="#" class="btn btn-light" th:href="@{/transactiondetails/edit/} + ${td.id}">Edit</a>
			</td>
			<td>
			<a href="#" class="btn btn-danger" th:href="@{/transactiondetails/delete/} + ${td.id}"
			onclick="return confirm('Are you sure you want to delete this transaction detail?')">Delete</a>
			</td>
		</tr>
	</table>
	<div class="row">
		<div class="col-sm">
		<a th:href="@{/transaction/car}" class="btn btn-dark">View Transactions</a>
		</div>
	</div>

</body>
</html>